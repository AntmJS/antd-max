"use strict";(self.webpackChunkantd_max=self.webpackChunkantd_max||[]).push([[452],{7452:(r,e,t)=>{t.r(e),t.d(e,{default:()=>v});var n=t(7294),a=t(19);function i(r,e){if(r.length!==e.length)return!1;for(var t=0,n=0;n<r.length;n++){var a=r[n];a&&e.includes(a)&&t++}return t===r.length}var o=t(5893);function l(r,e){if(r){if("string"==typeof r)return u(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(r,e):void 0}}function u(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var s="antm-ui-sku";function c(r){var e,t,c=r.sku,d=void 0===c?[]:c,f=r.className,m=void 0===f?"":f,v=r.goodsList,y=void 0===v?[]:v,b=r.goodsId,h=r.onChange,k=r.clickAttrDisable,p=r.itemRender,g=r.itemDisable,j=(e=(0,n.useState)(),t=2,function(r){if(Array.isArray(r))return r}(e)||function(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,a,i,o,l=[],u=!0,s=!1;try{if(i=(t=t.call(r)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=i.call(t)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(r){s=!0,a=r}finally{try{if(!u&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),I=j[0],B=j[1];(0,n.useEffect)((function(){if(!b&&y)for(var r=0;r<y.length;r++){var e=y[r];if(!0!==(null==e?void 0:e.disabled)){B(e),h&&h(e);break}}if(b&&y)for(var t=0;t<y.length;t++){var n=y[t];if((null==n?void 0:n.id)===b){B(n);break}}}),[b,y]);var G=(0,n.useCallback)((function(r,e){var t=function(r){return function(r){if(Array.isArray(r))return u(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||l(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((null==I?void 0:I.skuIds)||[]);if(t.length){var n=e.filter((function(r){return t.includes(r.id)}))[0].id;t.splice(t.indexOf(n),1),t=t.concat(r);for(var a=void 0,o=0;o<y.length;o++){var s,c;if(null!==(s=y[o])&&void 0!==s&&s.skuIds&&i((null===(c=y[o])||void 0===c?void 0:c.skuIds)||[],t)){a=y[o];break}}return a}}),[null==I?void 0:I.skuIds,y]),x=(0,n.useCallback)((function(r,e){e?(B(r),h&&h(r)):k&&k(r)}),[k,h]);return(0,o.jsx)("div",{className:"".concat(s," ").concat(m),children:d.map((function(r,e){return(0,o.jsxs)("div",{className:"".concat(s,"-item"),children:[(0,o.jsx)("div",{className:"".concat(s,"-name"),children:r.name}),(0,o.jsx)("div",{className:"".concat(s,"-attrs"),children:r.items.map((function(e,t){var n=G(e.id,r.items),i=!(!n||!0===n.disabled||g&&g(n));return(0,o.jsx)(a.ZP,{className:"".concat(s,"-attr"),onClick:function(){return x(n,i)},disabled:!i,type:null!=I&&I.skuIds.includes(e.id)?"primary":"default",children:p?p(e):e.name},"attr#".concat(t,"@").concat(e.id))}))})]},"sku#".concat(e,"@").concat(r.id))}))})}var d=[{id:1,name:"颜色",items:[{name:"亮黑色",id:11,color:"#131111"},{name:"釉白色",id:12,mark:"首发",color:"#ffff"},{name:"秘银色",id:13,color:"#d2cccc"},{name:"夏日胡杨",id:14,color:"#dd5151"}]},{id:2,name:"版本",items:[{name:"8GB+128GB",id:21},{name:"8GB+256GB",id:22}]}],f=[{id:1,skuIds:[11,21],skuName:"亮黑色&8GB+128GB"},{id:2,skuIds:[11,22],skuName:"亮黑色&8GB+256GB",count:0},{id:3,skuIds:[12,21],skuName:"釉白色&8GB+128GB"},{id:4,skuIds:[12,22],skuName:"釉白色&8GB+256GB"},{id:4,skuIds:[21,13],skuName:"秘银色&8GB+128GB"},{id:6,skuIds:[13,22],skuName:"秘银色&8GB+256GB",disabled:!0},{id:7,skuIds:[14,22],skuName:"夏日胡杨&8GB+256GB"}];function m(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function v(){var r,e,t=(r=(0,n.useState)({}),e=2,function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,a,i,o,l=[],u=!0,s=!1;try{if(i=(t=t.call(r)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=i.call(t)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(r){s=!0,a=r}finally{try{if(!u&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(r,e)||function(r,e){if(r){if("string"==typeof r)return m(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(r,e):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=t[0],i=t[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:"当前选择商品："}),(0,o.jsxs)("div",{style:{paddingBottom:10},children:["HUAWEI手机【",a.skuName||"--","】"]}),(0,o.jsx)(c,{sku:d,goodsList:f,onChange:function(r){return i(r)},itemDisable:function(r){return!r||0===r.count},itemRender:function(r){return r.color?(0,o.jsxs)("div",{className:"sku-color-item",children:[(0,o.jsx)("div",{className:"color-item",style:{background:r.color}}),(0,o.jsx)("div",{children:r.name})]}):r.name}})]})}}}]);